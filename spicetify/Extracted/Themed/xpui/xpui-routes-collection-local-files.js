"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7379],{4263:(e,t,r)=>{r.d(t,{u:()=>p});var n=r(24255),i=r(59496),l=r(84875),a=r.n(l),s=r(33892),o=r(42382),u=r(49990),c=r(93711);const d="FvfvGU3jvHRskUU9v9_8",m="Q9AlbZn2EGzy3MTWXa8X",x="mxmxS0y8LiwSs5nueKPT",g="GXxVAveNFStY3pBI_NO4",f="eHcXC2s97InYP7rMNT0H";var h=r(4637),p=(0,i.memo)((function(e){var t=e.children,r=e.message,i=e.title,l=e.linkTitle,p=e.linkTo,S=e.onClick,b=e.renderInline,y=void 0!==b&&b,j=(0,u.e)(),v=j.isXSOnly,k=j.isSMOnly,D=v||k;return(0,h.jsxs)("section",{className:a()(d,(0,n.Z)({},m,y)),children:[t,(0,h.jsx)(s.D,{as:"h1",variant:D?"cello":"alto",className:g,children:i}),(0,h.jsx)(s.D,{variant:D?"mesto":"ballad",className:f,children:r}),l&&(p||S)&&(0,h.jsx)(o.D,{colorSet:"invertedLight",className:x,href:p,onClick:S,component:c.Z,children:l})]})}))},68547:(e,t,r)=>{r.d(t,{l:()=>y});var n,i,l=r(46220),a=(r(48285),r(33208),r(93019),r(47408),r(59496)),s=r(22056),o=r(83590),u=r(24255),c=(r(58549),r(24353),r(16628)),d=r(8982),m={"custom-order":c.HI,title:{column:d.Q.TITLE,order:d.k.ASC},artist:{column:d.Q.TITLE,order:d.k.SECONDARY_ASC},"added-by":{column:d.Q.ADDED_BY,order:d.k.ASC},"added-at":{column:d.Q.ADDED_AT,order:d.k.ASC},duration:{column:d.Q.DURATION,order:d.k.ASC},album:{column:d.Q.ALBUM,order:d.k.ASC},"album-or-podcast":{column:d.Q.ALBUM_OR_PODCAST,order:d.k.ASC},"album-or-show":{column:d.Q.ALBUM_OR_SHOW,order:d.k.ASC}},x={title:d.Q.TITLE,artist:d.Q.TITLE,"added-by":d.Q.ADDED_BY,"added-at":d.Q.ADDED_AT,duration:d.Q.DURATION,album:d.Q.ALBUM,"album-or-podcast":d.Q.ALBUM_OR_PODCAST,"album-or-show":d.Q.ALBUM_OR_SHOW},g=(n={},(0,u.Z)(n,d.k.NONE,d.k.NONE),(0,u.Z)(n,d.k.ASC,d.k.DESC),(0,u.Z)(n,d.k.DESC,d.k.ASC),(0,u.Z)(n,d.k.SECONDARY_ASC,d.k.SECONDARY_DESC),(0,u.Z)(n,d.k.SECONDARY_DESC,d.k.SECONDARY_ASC),n),f=(i={},(0,u.Z)(i,d.Q.INDEX,{key:"custom-order",get value(){return s.ag.get("sort.custom-order")}}),(0,u.Z)(i,d.Q.TITLE,{key:"title",get value(){return s.ag.get("sort.title")}}),(0,u.Z)(i,d.Q.ARTIST,{key:"artist",get value(){return s.ag.get("sort.artist")}}),(0,u.Z)(i,d.Q.ADDED_BY,{key:"added-by",get value(){return s.ag.get("sort.added-by")}}),(0,u.Z)(i,d.Q.ADDED_AT,{key:"added-at",get value(){return s.ag.get("sort.date-added")}}),(0,u.Z)(i,d.Q.DURATION,{key:"duration",get value(){return s.ag.get("sort.duration")}}),(0,u.Z)(i,d.Q.EVENT_DATE,null),(0,u.Z)(i,d.Q.ALBUM,{key:"album",get value(){return s.ag.get("sort.album")}}),(0,u.Z)(i,d.Q.ALBUM_OR_PODCAST,{key:"album-or-podcast",get value(){return s.ag.get("sort.album-or-podcast")}}),(0,u.Z)(i,d.Q.ALBUM_OR_SHOW,{key:"album-or-show",get value(){return s.ag.get("sort.album-or-show")}}),(0,u.Z)(i,d.Q.PLAYS,null),(0,u.Z)(i,d.Q.RELEASE_DATE,null),(0,u.Z)(i,d.Q.ADD,null),(0,u.Z)(i,d.Q.ACTIONS,null),i),h=r(51841),p=r(15528),S=r(4637);function b(e){return!!e}var y=function(e){var t=e.columns,r=e.disabled,n=e.onSort,i=(0,l.Z)(t);i.splice(2,0,h.QD.ARTIST);var u=(0,a.useContext)(c.Gb),y=u.sortState,j=u.setSortState,v=function(e){return null===e.column?f[h.QD.INDEX]:(0,p.cB)(e.column,e.order)?f[h.QD.ARTIST]:f[e.column]}(y),k=(0,a.useCallback)((function(e){null==n||n(),j(function(e,t,r){return e?t!==x[e]||"artist"===e&&[d.k.ASC,d.k.DESC].includes(r)||"title"===e&&[d.k.SECONDARY_ASC,d.k.SECONDARY_DESC].includes(r)?m[e]:{column:x[e],order:g[r]}:c.HI}(e,y.column,y.order))}),[n,j,y.column,y.order]),D=(0,a.useCallback)((function(){return null!==y.column}),[y.column]),A=i.map((function(e){return f[e]})).filter(b);return(0,S.jsx)(o.A,{options:A,onSelect:k,selected:v,isSelectionChanged:D,sortOrder:y.order,heading:s.ag.get("drop_down.sort_by"),disabled:r})}},7243:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var n=r(24255),i=r(88769),l=r(14942),a=r(26533),s=r.n(a),o=(r(33208),r(93019),r(47408),r(79075),r(26870),r(86978),r(98618),r(40905),r(79410),r(21105),r(72753),r(59496)),u=r(57814),c=r(69050),d=r(22056),m=r(17913),x=r(4263),g=r(18805),f=r(53965),h=r(99567),p=r(4086),S=r(27293),b=r(93824),y=r(15528),j=r(68547),v=r(91682),k=r(51841),D=r(16628),A=r(69698),C=r(34437),O=r(22924),E=r(84563),T=r(68765),I=(r(15970),r(81285),r(27586),r(56110),r(25750),r(78390),r(35407)),_=r(99949),P=r(23351),Q=r(41314),w=r(72215),N=r(96234),R=r(66712),Z=r(54307),U=r(56868),L=r(4637),M=o.memo((function(e){var t=e.uri,r=e.uid,n=e.name,i=e.duration_ms,l=e.artists,a=e.album,s=e.is19PlusOnly,u=e.isExplicit,c=e.isPlayable,m=e.index,x=e.contextUri,g=e.imgUrl,f=e.usePlayContextItem,h=(0,o.useContext)(v.fo).filter,p=f({uid:r,uri:t,index:m}),S=p.isActive,b=p.isPlaying,y=p.triggerPlay,j=p.togglePlay,k=(0,Q.r)({isExplicit:u}),D=k.badges,A=k.hasBadges,C=(null==l?void 0:l.map((function(e){return e.name})).join(d.ag.getSeparator()))||"";return(0,L.jsx)(P.ZP,{value:"row",index:m,children:(0,L.jsx)(I._,{menu:(0,L.jsx)(w.N,{uri:t,uid:r,contextUri:x}),children:(0,L.jsxs)(U.c,{uri:t,contextUri:x,isActive:S,index:m,onTriggerPlay:function(){y()},ariaRowIndex:m+1,isPlayable:c,ageRestricted:s,dragMetadata:{name:n,createdBy:C},children:[(0,L.jsx)(R.Dd,{ariaColIndex:0,children:(0,L.jsx)(R.Du,{uri:t,playAriaLabel:d.ag.get("tracklist.a11y.play",n,C),isPlaying:b,isActive:S,onClick:function(){j()},children:(0,L.jsx)(R.km,{children:m+1})})}),(0,L.jsxs)(R.vZ,{ariaColIndex:1,children:[(0,L.jsx)(R.lD,{src:g}),(0,L.jsxs)(R.vm,{children:[(0,L.jsx)(R.Wh,{titleText:n,children:(0,L.jsx)(N.o,{searchWords:[h],textToHighlight:n})}),A&&(0,L.jsx)(R.g3,{children:D.explicit?(0,L.jsx)(_.N,{}):null}),(0,L.jsx)(R.K9,{children:l&&(0,L.jsx)(Z.o,{nonInteractive:!0,artists:l,filter:h})})]})]}),(0,L.jsx)(R.UA,{ariaColIndex:2,children:(null==a?void 0:a.name)&&(0,L.jsx)(R.BM,{nonInteractive:!0,uri:null==a?void 0:a.uri,name:null==a?void 0:a.name,children:(0,L.jsx)(N.o,{searchWords:[h],textToHighlight:null==a?void 0:a.name})})}),(0,L.jsxs)(R.mU,{ariaColIndex:3,children:[(0,L.jsx)(R.A$,{duration:i}),(0,L.jsx)(R.Zv,{menu:(0,L.jsx)(w.N,{uri:t,uid:r,contextUri:x}),label:d.ag.get("more.label.track",n,C)})]})]})})})}),(function(e,t){return e.uri===t.uri&&e.index===t.index})),B=r(20786),Y=new Set(D.MI),H=o.memo((function(e){var t=e.uri,r=e.tracks,n=e.columns,i=e.sortState,l=e.handleSort,a=e.usePlayContextItem,s=e.tracklistDomRef,u=(0,o.useRef)(null),c=(0,o.useCallback)((function(e,r){var n,i=(0,B.X)(null===(n=e.album)||void 0===n?void 0:n.images,{desiredSize:40,desiredLabel:"small"});return(0,L.jsx)(M,{index:r,contextUri:t,uri:e.uri,uid:e.uid,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album||void 0,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,type:e.type,imgUrl:(null==i?void 0:i.url)||"",usePlayContextItem:a},e.uid)}),[t,a]);return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(P.ZP,{value:"playlist-tracklist",children:(0,L.jsx)(k.Pv,{ariaLabel:d.ag.get("local-files"),hasHeaderRow:!0,columns:n,sortableColumns:Y,sortState:i,onSort:l,renderRow:c,resolveUri:function(e){return e.uri},resolveUid:function(e){return e.uid},tracks:r,nrTracks:r.length,limit:100,outerRef:u,outerDomRef:s},t)})})}));const X="uCHqQ74vvHOnctGg0X0B",z="feuNq1FTxMbdeOTuFgpA";function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=[k.QD.INDEX,k.QD.TITLE,k.QD.ALBUM,k.QD.DURATION],K=function(){var e=(0,o.useContext)(v.fo).filter,t=(0,o.useContext)(D.Gb),r=t.sortState,n=t.setSortState,a=(0,o.useContext)(O.t),k=(0,E.I)(),I=(0,o.useState)(),_=(0,l.Z)(I,2),P=_[0],Q=_[1],w=(0,A.Y)(u.Fzl),N=(0,o.useRef)(null),R=(0,o.useCallback)((function(e){n((0,y.VK)(e,r))}),[r,n]),Z=(0,o.useCallback)((0,i.Z)(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.getTracks((0,y._j)(r),e);case 2:n=t.sent,Q(n);case 4:case"end":return t.stop()}}),t)}))),[a,r,e]);(0,o.useEffect)((function(){Z()}),[Z]);var U=(0,T.n)({uri:C.b,pages:[{items:(null!=P?P:[]).map((function(e){return G(G({},e),{},{provider:null})}))}]},{featureIdentifier:"local_files"}),M=U.isPlaying,B=U.togglePlay,Y=U.usePlayContextItem;return P?e||P.length&&k?(0,L.jsxs)("div",{role:"presentation",className:X,children:[(0,L.jsxs)(g.gF,{backgroundColor:w,children:[(0,L.jsxs)(f.W,{children:[(0,L.jsx)(b.$,{size:"md",onClick:function(){return B()},isPlaying:M,uri:C.b}),(0,L.jsx)(h.i,{text:d.ag.get("local-files")})]}),(0,L.jsxs)(g.sP,{children:[(0,L.jsx)(g.xd,{children:d.ag.get("local-files")}),(0,L.jsx)(g.T0,{children:d.ag.get("local-files.description")})]})]}),(0,L.jsx)(m.o,{backgroundColor:w,children:(0,L.jsxs)(m.F,{children:[(0,L.jsx)(b.$,{size:"lg",onClick:function(){return B()},isPlaying:M,uri:C.b}),(0,L.jsxs)("div",{className:z,children:[(0,L.jsx)(o.Suspense,{fallback:null,children:(0,L.jsx)(p.K,{placeholder:d.ag.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:N})}),(0,L.jsx)(j.l,{columns:D.MI})]})]})}),(0,L.jsx)("div",{className:"contentSpacing",children:(0,L.jsx)(H,{tracks:P,uri:C.b,columns:W,handleSort:R,sortState:r,usePlayContextItem:Y,tracklistDomRef:N})})]}):(0,L.jsx)(x.u,{linkTo:"/preferences",linkTitle:d.ag.get("local-files.empty-button"),message:d.ag.get("local-files.empty-description"),title:d.ag.get("local-files.empty-header"),children:(0,L.jsx)(c.Y,{iconSize:64,"aria-hidden":"true"})}):(0,L.jsx)(S.h,{hasError:!1,errorMessage:d.ag.get("error.request-artist-failure")})};const q=function(){return(0,L.jsx)(D.kz,{uri:"spotify:internal:local-files",children:(0,L.jsx)(v.hz,{uri:"spotify:internal:local-files",children:(0,L.jsx)(K,{})})})}},49990:(e,t,r)=>{r.d(t,{e:()=>x});var n=r(10680);const i="(min-width: 0px)",l="(min-width: 0px) and (max-width: 767px)",a="(min-width: 768px)",s="(min-width: 768px) and (max-width: 1023px)",o="(min-width: 1024px)",u="(min-width: 1024px) and (max-width: 1279px)",c="(min-width: 1280px)",d="(min-width: 1280px) and (max-width: 1919px)",m="(min-width: 1920px)";var x=function(){return{isXS:(0,n.a)(i),isXSOnly:(0,n.a)(l),isSM:(0,n.a)(a),isSMOnly:(0,n.a)(s),isMD:(0,n.a)(o),isMDOnly:(0,n.a)(u),isLG:(0,n.a)(c),isLGOnly:(0,n.a)(d),isXL:(0,n.a)(m)}}},84563:(e,t,r)=>{r.d(t,{I:()=>i});var n=r(44081);function i(){return(0,n.S)()[0]}}}]);
//# sourceMappingURL=xpui-routes-collection-local-files.js.map