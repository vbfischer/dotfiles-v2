"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5835],{4263:(e,n,t)=>{t.d(n,{u:()=>x});var i=t(24255),o=t(59496),a=t(84875),r=t.n(a),c=t(33892),s=t(42382),l=t(49990),d=t(93711);const u="FvfvGU3jvHRskUU9v9_8",v="Q9AlbZn2EGzy3MTWXa8X",m="mxmxS0y8LiwSs5nueKPT",h="GXxVAveNFStY3pBI_NO4",p="eHcXC2s97InYP7rMNT0H";var g=t(4637),x=(0,o.memo)((function(e){var n=e.children,t=e.message,o=e.title,a=e.linkTitle,x=e.linkTo,f=e.onClick,j=e.renderInline,b=void 0!==j&&j,N=(0,l.e)(),y=N.isXSOnly,k=N.isSMOnly,O=y||k;return(0,g.jsxs)("section",{className:r()(u,(0,i.Z)({},v,b)),children:[n,(0,g.jsx)(c.D,{as:"h1",variant:O?"cello":"alto",className:h,children:o}),(0,g.jsx)(c.D,{variant:O?"mesto":"ballad",className:p,children:t}),a&&(x||f)&&(0,g.jsx)(s.D,{colorSet:"invertedLight",className:m,href:x,onClick:f,component:d.Z,children:a})]})}))},86716:(e,n,t)=>{t.d(n,{Z:()=>N});t(78390);var i=t(59496),o=t(33892),a=t(22056),r=t(3777),c=t(30985),s=t(38698),l=t(31386),d=t(50838);const u="MUiWCNTfb6FcSwVPvQ1V",v="UAk3bMhekwJTV_wIyfsT",m="QHo82lWWkjoCkDa6baB3",h="X9w6LPfKsZHMCs38sVIQ",p="NXn5KjeUOjLGlAfS1Gao",g="N0wgFMDDvCiby4QB5kLJ",x="nloNe2BLRHjz9dxlwfLU",f="JzXND83mXvcEuntCNR34",j="GR08E4L_rOGljyQQX30R";var b=t(4637);const N=(0,i.memo)((function(e){var n=e.concert,t=e.isVirtual,i=e.onClick,N=n.venue,y=n.location,k=n.artists[0],O=(0,l.CH)(n.startDate.localDate);return(0,b.jsxs)(r.Link,{to:"/concert/".concat(n.id),className:u,onClick:i,children:[k.imageUri&&(0,b.jsx)(c.Z,{children:(0,b.jsx)("div",{role:"img",className:j,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(k.imageUri,")")}})}),(0,b.jsx)("time",{className:v,dateTime:n.startDate.localDate,children:(0,b.jsx)(o.D,{as:"h5",variant:"minuetBold",className:m,children:(0,l.jx)(O)})}),(0,b.jsxs)("div",{className:h,dir:"auto",children:[(0,b.jsxs)(o.D,{as:"h2",className:f,variant:"minuetBold",children:[(0,s.FO)(O)," • ",(0,l.hK)(O)]}),(0,b.jsx)(o.D,{as:"h2",variant:"cello",weight:"bold",className:p,children:(0,d.ij)(n)}),(0,b.jsx)("div",{className:g,children:(0,b.jsx)(o.D,{as:"h2",className:x,variant:"mesto","data-testid":"location-name",children:t?N:[N,y].join(a.ag.getSeparator())})})]})]})}))},65506:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Fe});var i=t(14942),o=(t(3761),t(68063),t(18134),t(3726),t(59496)),a=t(77646),r=t(92053),c=t(57814),s=t(33892),l=t(72444),d=t(22056),u=t(63061),v=t(86417),m=t(18805),h=t(53965),p=t(99567),g=(t(57651),t(46596)),x=t(15310),f=t(13034),j=t(47150),b=(t(78390),t(25750),t(47408),t(57831)),N=t(95442),y=t(15230),k=t(31740),O=t(43603),w=t(3777),D=t(31386),C=t(50838);const S="cELOd04or4B6BbTbNWA7",I="CHJYbX33oDik9u4n4ohH",_="woQ0wEe6FL4lsGW05bsb",F="KTDREr8pDWjrmnzXzZ2z",G="UUTvdEOH2v_rejoXdl9Z",L="cBbTozR921ppaoNZP0Uh",U="SNyyQ0t_VvlWzzB9li7v",E="lwO4iko6mhCUgZN1s9AW",H="akvZI06vqHOow1pOL29J",M="WWZp3WM0maWJzl2qWEHE",Z="YdkAHxbDekz9SiAxHG6M",P="AK37djOBJ2BuJOGuG1kQ",B="JfYURQbEA_ntMsMZV6tK",T="du0mOGaZfHg3hsHwRMIu",W="Rvzy4ltiiHIp9mvlxf0c";var A=t(4637),R=(0,o.memo)((function(e){var n=e.concert,t=e.position,i=e.modalSpec,a=n.id,r=n.venue,c=n.location,l=n.startDate.localDate,u=(0,D.CH)(l),v="ONLINE"===n.category,m=(0,o.useMemo)((function(){return null==i?void 0:i.eventRowFactory({position:t,uri:"spotify:concert:".concat(n.id)})}),[i,t,n]),h=(0,f.$P)();return(0,A.jsxs)(w.Link,{to:"/concert/".concat(n.id),className:E,onClick:function(){m&&h.logInteraction(m.hitUiNavigate({destination:"/concert/".concat(a)}))},children:[(0,A.jsxs)("div",{className:H,"aria-hidden":!0,children:[(0,A.jsx)(s.D,{as:"h5",variant:"minuetBold",className:M,children:(0,D.jw)(u)}),(0,A.jsx)(s.D,{as:"h1",variant:"cello",className:Z,children:(0,D.wf)(u)})]}),(0,A.jsxs)("div",{className:P,children:[(0,A.jsx)(s.D,{as:"div",variant:"violaBold",className:B,"data-testid":"event-title",children:(0,C.Yl)(n)}),(0,A.jsx)(b.T,{children:(0,D.jx)(u)}),(0,A.jsxs)(s.D,{as:"div",variant:"viola",className:T,children:[(0,D.FO)(u)," • ",(0,D.hK)(u)]}),(0,A.jsx)(s.D,{as:"div",variant:"viola",className:W,"data-testid":"event-venue",children:v?r:[r,c].join(d.ag.getSeparator())})]})]},n.id)}));const X=(0,o.memo)((function(e){var n,t=e.event,i=e.locationName,a=e.onClose,r=e.feedSpec,c=null==t||null===(n=t.concerts[0])||void 0===n?void 0:n.concert,l=null==c?void 0:c.artists[0],u=(0,o.useMemo)((function(){return null==r?void 0:r.groupedEventModalFactory({uri:(null==l?void 0:l.uri)||""})}),[r,l]),v=(0,f.$P)(),m=(0,f.Wi)(u);if(!t||!c||!l)return null;var h=function(){u&&v.logInteraction(u.closeButtonFactory().hitUiHide()),a()};return(0,A.jsx)(O.Z,{contentLabel:d.ag.get("live_events.label"),isOpen:!0,className:S,onRequestClose:h,children:(0,A.jsxs)("section",{className:I,ref:m,children:[(0,A.jsx)("div",{className:_,children:(0,A.jsx)(z,{"aria-label":d.ag.get("close"),iconOnly:N.k,buttonSize:"sm",onClick:h})}),(0,A.jsxs)("div",{className:F,children:[(0,A.jsx)(y.E,{height:"48",width:"48",className:G,src:l.imageUri}),(0,A.jsxs)("div",{className:L,children:[(0,A.jsx)(s.D,{as:"h3",variant:"cello",className:U,"data-testid":"event-venue",children:l.name}),(0,A.jsx)(s.D,{as:"h3",variant:"mesto","data-testid":"event-venue",children:"".concat(d.ag.get("concerts.count_near_location",t.concerts.length,i))})]})]}),t.concerts.map((function(e,n){return(0,A.jsx)(R,{concert:e.concert,position:n,modalSpec:u},e.concert.id)}))]})})}));var z=(0,j.ZP)(k.o).withConfig({displayName:"ConcertFeedGroupedModal___StyledButtonTertiary",componentId:"sc-1o845wh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),Q=(t(98618),t(93019),t(40905),t(4263)),K=t(27293),V=t(44223),J=t(23351),Y=t(47018),q=t(86716),$=(t(16481),t(30985));const ee="pU4WoqT8T6PmtjPbFtK0",ne="FC5Y_KFJ9rJyTpydqtOW",te="i8t3LDEorB6m_oFOBEux",ie="AAYLcavkBdCuebn9AQxT",oe="lYHCmxpdReachiOORWGo",ae="JtKEdtTtcK7s6EpGecaC",re="myHDa69cI5CHC8fhIhkG";const ce=(0,o.memo)((function(e){var n=e.event,t=e.onClick,i=(0,o.useCallback)((function(){return t(n)}),[n,t]),a=(0,D.CH)(n.openingDate),r=(0,D.CH)(n.closingDate),c=n.concerts[0].concert,l=c.artists[0];return(0,A.jsxs)(k.o,{onClick:i,className:ee,component:"div",role:"button",children:[l.imageUri&&(0,A.jsx)($.Z,{children:(0,A.jsx)("div",{role:"img",className:re,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(l.imageUri,")")}})}),(0,A.jsx)("time",{className:ne,dateTime:a.toISOString(),children:(0,A.jsx)(s.D,{as:"h5",variant:"minuetBold",className:te,children:(0,D.Bc)(a,r)})}),(0,A.jsxs)("div",{className:ie,dir:"auto",children:[(0,A.jsx)(s.D,{as:"h2",variant:"cello",weight:"bold",className:oe,children:(0,C.ij)(c)}),(0,A.jsx)("div",{className:ae,children:(0,A.jsx)(s.D,{as:"h2",variant:"mesto","data-testid":"concerts-count",children:d.ag.get("concerts.count",n.concerts.length)})})]})]})}));const se=(0,o.memo)((function(e){var n,t=e.event,i=e.position,a=e.sectionSpec,r=e.onOpenGroupedEvent,c=null===(n=t.concerts[0])||void 0===n?void 0:n.concert,s=null==c?void 0:c.id,l=c&&(0,Y.g3)(c.id).toURI(),d=(0,o.useMemo)((function(){return null==a?void 0:a.eventCardFactory({identifier:null!=s?s:"",position:i,uri:null!=l?l:""})}),[a,s,l,i]),u=(0,f.$P)();if(t.concerts.length>1)return(0,A.jsx)(ce,{event:t,onClick:function(e){r(e),d&&u.logInteraction(d.hitUiReveal())}});return(0,A.jsx)(q.Z,{concert:c,isVirtual:"online"===t.source,onClick:function(){d&&u.logInteraction(d.hitUiNavigate({destination:l}))}})})),le="MVPegsivznZB6gdkcnkH",de="MlK79hskRbFrN2OBjMkl",ue="VxaXFH9Uq1NU0LtsVhIu",ve="UDVDNa40iTSPS9uHCG7Q";const me=(0,o.memo)((function(e){var n=e.title,t=e.identifier,i=e.position,a=e.events,r=e.feedSpec,c=e.onOpenGroupedEvent,s=(0,o.useMemo)((function(){return null==r?void 0:r.eventSectionFactory({identifier:t,position:i})}),[r,t,i]),l=(0,f.Wi)(s);return 0===a.length?null:(0,A.jsx)("div",{className:le,ref:l,children:(0,A.jsx)(J.ZP,{value:"headered-grid",index:i,children:(0,A.jsx)(V.P,{total:a.length,title:n,showAll:!0,children:a.map((function(e,n){var t,i=null===(t=e.concerts[0])||void 0===t?void 0:t.concert;return(0,A.jsx)(se,{event:e,position:n,sectionSpec:s,onOpenGroupedEvent:c},i.id)}))})})})}));const he=(0,o.memo)((function(e){var n=e.isLoading,t=e.events,i=e.locationName,o=e.spec,a=e.onOpenGroupedEvent;if(n)return(0,A.jsx)(K.h,{hasError:!1,errorMessage:""});if(0===t.length)return(0,A.jsx)(Q.u,{title:d.ag.get("concerts.error.no_concerts_found_title"),message:d.ag.get("concerts.error.no_concerts_found_message",i),renderInline:!0});var r=function(e){var n={popular:[],recommended:[],online:[]};return e.forEach((function(e){switch(e.source){case"recommendation":n.recommended.push(e);break;case"popular":n.popular.push(e);break;case"online":n.online.push(e)}})),n}(t);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(me,{title:d.ag.get("concerts_upcoming_virtual_events"),identifier:"online",position:0,events:r.online,onOpenGroupedEvent:a,feedSpec:o}),(0,A.jsx)(me,{title:d.ag.get("concerts_recommended_for_you"),identifier:"recommended",position:1,events:r.recommended,onOpenGroupedEvent:a,feedSpec:o}),(0,A.jsx)(me,{title:d.ag.get("concerts_popular_near_you"),identifier:"popular",position:2,events:r.popular,onOpenGroupedEvent:a,feedSpec:o})]})}));var pe=t(24255),ge=(t(47785),t(75684),t(79075),t(26870),t(33208),t(86978),t(79410),t(21105),t(72753),t(59689)),xe=t(88769),fe=t(26533),je=t.n(fe),be=t(39359),Ne=t(32366),ye=function(){var e=(0,xe.Z)(je().mark((function e(n,t){var i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n?(0,Ne.getConcertsHub)(be.b.getInstance(),void 0,t):(0,Ne.getConcertsForUser)(be.b.getInstance(),t),e.next=3,i;case 3:return e.abrupt("return",e.sent.body);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(t),!0).forEach((function(n){(0,pe.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var we=function(e){var n=(0,i.Z)(e.queryKey,2),t=(n[0],n[1]),o=t.isAnonymous,a=t.geonameId;return ye(o,a)},De=/^(\d+)/,Ce=t(75785),Se=c.vI0,Ie={url:"https://tickets.spotifycdn.com/partner-assets/Hub%20header%20image/Desktop%20header%20IMG.png",width:2736,height:720},_e=function(e,n){if(!e)return"/concerts";var t=null==n?void 0:n.normalize().replaceAll(/\W+/g,"-");return t?"/concerts/location/".concat(e,"-").concat(t):"/concerts/location/".concat(e)};const Fe=(0,o.memo)((function(){var e,n,t=(0,r.s0)(),c=(0,a.v9)(x.Gg).isAnonymous,j=function(){var e=(0,r.UO)().location,n=(null==e?void 0:e.match(De))||[],t=(0,i.Z)(n,2)[1];if(t)try{return parseInt(t,10)}catch(e){return}}(),b=(e={isAnonymous:c,geonameId:j},n=(0,ge.useQueryClient)(),(0,ge.useQuery)(["concerts",e],we,{staleTime:6e5,keepPreviousData:!0,onSuccess:function(t){if(!e.geonameId&&t.userLocationGeonameId){var i=parseInt(t.userLocationGeonameId,10),o=["concerts",Oe(Oe({},e),{},{geonameId:i})];n.setQueryData(o,(function(){return t}))}}})),N=b.data,y=b.isLoading,k=(0,f.fU)(l.createDesktopLiveeventsFeedEventFactory,{}).spec,O=(0,o.useMemo)((function(){return k.headerFactory()}),[k]),w=(0,g.o)(),D=(0,o.useState)(),C=(0,i.Z)(D,2),S=C[0],I=C[1];var _=(null==N?void 0:N.userLocation)||d.ag.get("concerts.default_location");return(0,A.jsxs)("section",{className:de,children:[(0,A.jsx)(v.$,{children:"".concat(d.ag.get("concerts_shows_in")," ").concat(_)}),(0,A.jsxs)(m.gF,{size:m.fR.SMALL,backgroundColor:Se,backgroundImages:[Ie],children:[(0,A.jsx)(m.sP,{children:(0,A.jsx)(m.xd,{children:d.ag.get("live_events.label")})}),(0,A.jsx)(h.W,{children:(0,A.jsx)(p.i,{text:d.ag.get("live_events.label")})})]}),(0,A.jsxs)("div",{className:ue,children:[(0,A.jsx)(u.I,{backgroundColor:Se}),(0,A.jsxs)("div",{className:ve,children:[(0,A.jsx)("div",{className:le,"data-testid":"location-selector",children:(0,A.jsx)(Ce.Z,{handleLocationChange:function(e){w({type:"click",intent:"change-live-events-location"}),null!=e&&e.geonameId&&t(_e(e.geonameId,e.location))},locationStr:_,headerSpec:O})}),(0,A.jsx)(he,{isLoading:y,events:(null==N?void 0:N.events)||[],locationName:_,spec:k,onOpenGroupedEvent:function(e){var n;I(e);var t=null===(n=e.concerts[0])||void 0===n?void 0:n.concert.artistUris[0];w({type:"click",intent:"open-grouped-live-event",targetUri:t})}}),(0,A.jsx)(s.D,{variant:"finale",semanticColor:"textSubdued",children:d.ag.get("live_events.disclaimer")}),(0,A.jsx)(X,{event:S,locationName:_,feedSpec:k,onClose:function(){return I(void 0)}})]})]})]})}))},49990:(e,n,t)=>{t.d(n,{e:()=>m});var i=t(10680);const o="(min-width: 0px)",a="(min-width: 0px) and (max-width: 767px)",r="(min-width: 768px)",c="(min-width: 768px) and (max-width: 1023px)",s="(min-width: 1024px)",l="(min-width: 1024px) and (max-width: 1279px)",d="(min-width: 1280px)",u="(min-width: 1280px) and (max-width: 1919px)",v="(min-width: 1920px)";var m=function(){return{isXS:(0,i.a)(o),isXSOnly:(0,i.a)(a),isSM:(0,i.a)(r),isSMOnly:(0,i.a)(c),isMD:(0,i.a)(s),isMDOnly:(0,i.a)(l),isLG:(0,i.a)(d),isLGOnly:(0,i.a)(u),isXL:(0,i.a)(v)}}}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map