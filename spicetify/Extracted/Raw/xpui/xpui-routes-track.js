"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[730],{65560:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});t(15970),t(93019),t(27586),t(56110),t(4391),t(3761),t(30169),t(3726),t(85704);var a=t(59496),i=t(77646),l=t(92053),o=t(47018),r=t(5488),u=t(15310),c=t(863),d=t(58964),f=t(10277),s=a.memo((function(){var e,n=(0,l.s0)(),t=(0,l.TH)(),s=(0,a.useContext)(f.ZF),v=(0,d.g)(),k=(0,l.UO)().trackId,g=void 0===k?"":k,h=(0,i.v9)(u.Gg).isAnonymous,b=new URLSearchParams(t.search).get("context")||"",p=(0,o.tn)(g).toURI(),m=(0,r.QN)({uri:p},{cacheTime:30*c.y}),C=(0,a.useCallback)((function(e,t){var a,i=v.getState(),l=null===(a=(0,o.EC)(t))||void 0===a?void 0:a.toURLPath(!0),r="".concat(l,"?highlight=").concat(p);h?n(r):(i&&!i.isPaused||e>-1&&v.play({uri:t},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:e}}),n(r,{replace:!0}))}),[n,h,v,p]),U=(0,a.useCallback)((function(){var e,n;if(!m.loading&&null!==(e=m.data)&&void 0!==e&&e.trackUnion){var t=m.data.trackUnion;C(t.trackNumber-1,(null==t||null===(n=t.albumOfTrack)||void 0===n?void 0:n.uri)||"")}}),[C,null==m||null===(e=m.data)||void 0===e?void 0:e.trackUnion,m.loading]);return(0,a.useEffect)((function(){var e=(0,o.nK)(b);b&&e?s.getContents(b).then((function(e){var n=e.items.findIndex((function(e){return(null==e?void 0:e.uri)===p}));n<0?U():C(n,b)})):U()}),[b,U,C,s,p]),null}));const v=s}}]);
//# sourceMappingURL=xpui-routes-track.js.map