"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2499],{29664:(e,r,t)=>{t.d(r,{P:()=>p});var n=t(24255),i=(t(25750),t(79075),t(26870),t(33208),t(93019),t(86978),t(98618),t(40905),t(79410),t(21105),t(72753),t(59496)),a=t(7013),o=t(22056),l=t(35407),s=t(47262),u=t(95441),c=t(42741),d=t(56672),m=t(12340),g=t(4637);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var p=i.memo((function(e){var r,t=e.images,p=e.name,h=e.uri,v=e.onClick,b=e.isHero,x=e.testId,y=e.index,j=e.requestId,k=e.color,w=(0,i.useCallback)((function(){return(0,g.jsx)(u.x,{isCircular:!0,isHero:b,images:t,color:k,FallbackComponent:function(e){return(0,g.jsx)(a.a,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({iconSize:64},e))}})}),[k,t,b]),I=(0,i.useCallback)((function(){return b?(0,g.jsx)(d.k,{children:o.ag.get("card.tag.profile")}):o.ag.get("card.tag.profile")}),[b]);return r=b?(0,g.jsx)(c.Z,{index:y,onClick:v,headerText:p,featureIdentifier:"profile",uri:h,isPlayable:!1,renderCardImage:w,renderSubHeaderContent:I,testId:x,requestId:j}):(0,g.jsx)(s.C,{index:y,onClick:v,headerText:p,featureIdentifier:"profile",uri:h,isPlayable:!1,renderCardImage:w,renderSubHeaderContent:I,testId:x,requestId:j}),(0,g.jsx)(l._,{menu:(0,g.jsx)(m.I,{uri:h}),children:r})}))},41200:(e,r,t)=>{t.d(r,{T:()=>m});var n=t(14942),i=(t(25750),t(21586)),a=t(44979),o=t(96723),l=t(58950),s=t(18805);const u="profile-editImage-imageContainer",c="profile-editImage-editImageButtonContainer";var d=t(4637),m=function(e){var r=e.onClick,t=e.name,m=e.images,g=e.canEdit,f=e.placeholderType,p=e.shape,h=void 0===p?s.Kc.SQUARE:p,v=e.dragUri,b=void 0===v?"":v,x=(0,a.RH)(m),y=(0,n.Z)(x,2),j=y[0],k=y[1],w=(0,o.VO)(j,k)===o.KO.loaded,I=(0,i.O1)([b],t);return(0,d.jsxs)("div",{className:u,"data-testid":"".concat(f,"-image"),draggable:!!b,onDragStart:I,children:[(0,d.jsx)(s.Oe,{loading:"eager",name:t,images:m,placeholderType:f,shape:h}),g&&(0,d.jsx)("div",{className:c,children:(0,d.jsx)(l.F,{overlay:w,onClick:r,rounded:h===s.Kc.CIRCLE})})]})}},81186:(e,r,t)=>{t.d(r,{I:()=>a});var n=t(59496),i=t(35708);function a(e,r){var t=(0,i.z)();(0,n.useEffect)((function(){var n=t.getEvents(),i=function(e){return r(e)};return n.addListener(e,i),function(){n.removeListener(e,i)}}),[e,t,r])}},68693:(e,r,t)=>{t.r(r),t.d(r,{default:()=>dt});var n=t(59496),i=t(92053),a=t(6063),o=t(47018),l=(t(47408),t(25750),t(84875)),s=t.n(l),u=t(22056),c=t(29664),d=t(27293),m=t(44223),g=t(15607),f=t(13870);const p="umiKMm5NVr5UeBJCHS6U",h="jzhwZKbfx4vrC_MYd_7c",v="MWWPQQjbjRfoGdPD8D68",b="rMpf7sfaPDcj387_52fA",x="kWCnF32FrVtGHmTy8QeV",y="uJxNEI2k7x8UCDdMKELt",j="wDIZ2yYKjfGI68I4cZ98";var k=t(4637),w=function(e){var r=e.uri,t=(0,g.J)(f.n5.getFollowers,[r]),n=t.data,i=t.loading,a=t.error,o=null==n?void 0:n.profiles;return i?(0,k.jsx)(d.h,{hasError:null!==a,errorMessage:u.ag.get("error.not_found.title.page")}):(0,k.jsx)(m.P,{className:s()("contentSpacing",v),title:u.ag.get("followers"),total:null==o?void 0:o.length,showAll:!0,children:null==o?void 0:o.map((function(e,r){return(0,k.jsx)(c.P,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))})},I=function(e){var r=e.uri,t=(0,g.J)(f.n5.getFollowing,[r]),n=t.data,i=t.loading,a=t.error,o=null==n?void 0:n.profiles;return i?(0,k.jsx)(d.h,{hasError:null!==a,errorMessage:u.ag.get("error.not_found.title.page")}):(0,k.jsx)(m.P,{className:s()("contentSpacing",v),title:u.ag.get("following"),total:null==o?void 0:o.length,showAll:!0,children:null==o?void 0:o.map((function(e,r){return(0,k.jsx)(c.P,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))})},O=t(14942),_=(t(93019),t(84196),t(7232),t(77646)),P=t(60647),C=t(66152),N=t(17913),E=t(97921),D=t(86431),A=t(81785),U=t(12340),S=t(86417),T=t(41200),R=t(18805),M=t(22984),L=t(53965),F=t(99567),W=t(62738),H=t(88769),K=t(26533),Z=t.n(K),Q=(t(41631),t(33892)),J=t(95442),B=t(40015),G=t(42382),V=t(24255),z=t(97324),q=t(44979),X=t(96723);const Y="F8_EX1AeKxXNSeh1qiHq",$="valcBm4lLe9qFBcg0sFY",ee="tAIzXn8C9KriGwGuBfWg",re="PsrXxenHUFXYM1ub1xWw",te="U_VWfeeLWnDPhUTxCmrQ";var ne=function(e){var r=e.onClickEdit,t=e.onClickRemove,n=e.name,i=e.images,a=(0,q.RH)(i),o=(0,O.Z)(a,2),l=o[0],c=o[1],d=(0,X.VO)(l,c)===X.KO.loaded;return(0,k.jsxs)("div",{className:Y,children:[(0,k.jsx)(R.Oe,{loading:"eager",name:n,images:i,placeholderType:"user",shape:R.Kc.CIRCLE}),(0,k.jsxs)("div",{className:s()($,(0,V.Z)({},re,d)),children:[(0,k.jsx)("button",{className:ee,"aria-haspopup":"true",onClick:r,type:"button",children:(0,k.jsx)(Q.D,{variant:"ballad",children:u.ag.get("user.edit-details.choose-photo")})}),(0,k.jsx)("div",{className:s()(te,"icon"),children:(0,k.jsx)(z.y,{iconSize:48,"aria-hidden":!0})}),(0,k.jsx)("button",{className:ee,onClick:t,type:"button",children:(0,k.jsx)(Q.D,{variant:"ballad",children:u.ag.get("user.edit-details.remove-photo")})})]})]})},ie=(t(43316),t(73630),t(3726),t(1208)),ae=t(91695),oe=(t(15970),t(5323),t(34793),t(8973),t(11912),t(91662),t(30951),t(7435),t(60964),t(7759),t(60262),t(63504),t(59181),t(26744),t(59778),t(8991),t(8128),t(63371),t(2419),t(7874),t(42259),t(76177),t(27446),t(52292),t(21568),t(75524),t(98080),t(82545),t(35390),t(43191),t(43392),t(3688),t(53903),t(39099),t(44733),t(79075),t(26870),t(33208),t(86978),t(98618),t(40905),t(79410),t(21105),t(72753),t(2840),t(6201),t(27586),t(3761),t(81049),t(53987),t(27676),t(56110),t(84437),t(92228));function le(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function se(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?le(Object(t),!0).forEach((function(r){(0,V.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ue(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ce(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw a}}}}function ce(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var de={paths:""},me=function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Writer.create(),n=ue(e.paths);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.uint32(10).string(i)}}catch(e){n.e(e)}finally{n.f()}return t},ge=function(e){var r=se({},de);if(r.paths=[],void 0!==e.paths&&null!==e.paths){var t,n=ue(e.paths);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.paths.push(i)}}catch(e){n.e(e)}finally{n.f()}}return r},fe=(t(95410),t(57782),t(71445),t(15550),t(80926),t(24714),t(10347),t(42952),t(78390),t(29168)),pe=t(55872).lW;var he=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Writer.create();return r.uint32(8).int32(e.value),r},ve=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Writer.create();return r.uint32(8).bool(e.value),r},be=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Writer.create();return r.uint32(10).string(e.value),r};oe.util.Long!==fe&&(oe.util.Long=fe,(0,oe.configure)());var xe=globalThis;xe.atob,xe.btoa;function ye(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return je(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return je(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw a}}}}function je(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ke(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function we(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ke(Object(t),!0).forEach((function(r){(0,V.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ie={maxWidth:0,maxHeight:0,url:""},Oe={},_e={},Pe=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Writer.create();return r.uint32(8).int32(e.maxWidth),r.uint32(16).int32(e.maxHeight),r.uint32(26).string(e.url),r},Ce=function(e){var r=we({},Ie);return void 0!==e.maxWidth&&null!==e.maxWidth?r.maxWidth=e.maxWidth:r.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?r.maxHeight=e.maxHeight:r.maxHeight=0,void 0!==e.url&&null!==e.url?r.url=e.url:r.url="",r},Ne=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Writer.create();void 0!==e.username&&void 0!==e.username&&be({value:e.username},r.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&be({value:e.name},r.uint32(18).fork()).ldelim();var t,n=ye(e.images);try{for(n.s();!(t=n.n()).done;){var i=t.value;Pe(i,r.uint32(26).fork()).ldelim()}}catch(e){n.e(e)}finally{n.f()}return void 0!==e.verified&&void 0!==e.verified&&ve({value:e.verified},r.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&ve({value:e.editProfileDisabled},r.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&ve({value:e.reportAbuseDisabled},r.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&ve({value:e.abuseReportedName},r.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&ve({value:e.abuseReportedImage},r.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&ve({value:e.hasSpotifyName},r.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&ve({value:e.hasSpotifyImage},r.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&he({value:e.color},r.uint32(90).fork()).ldelim(),r},Ee=function(e){var r=we({},Oe);if(r.images=[],void 0!==e.username&&null!==e.username?r.username=e.username:r.username=void 0,void 0!==e.name&&null!==e.name?r.name=e.name:r.name=void 0,void 0!==e.images&&null!==e.images){var t,n=ye(e.images);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.images.push(Ce(i))}}catch(e){n.e(e)}finally{n.f()}}return void 0!==e.verified&&null!==e.verified?r.verified=e.verified:r.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?r.editProfileDisabled=e.editProfileDisabled:r.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?r.reportAbuseDisabled=e.reportAbuseDisabled:r.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?r.abuseReportedName=e.abuseReportedName:r.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?r.abuseReportedImage=e.abuseReportedImage:r.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?r.hasSpotifyName=e.hasSpotifyName:r.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?r.hasSpotifyImage=e.hasSpotifyImage:r.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?r.color=e.color:r.color=void 0,r},De=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Writer.create();return void 0!==e.mask&&void 0!==e.mask&&me(e.mask,r.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&Ne(e.userProfile,r.uint32(18).fork()).ldelim(),r},Ae=function(e){var r=we({},_e);return void 0!==e.mask&&null!==e.mask?r.mask=ge(e.mask):r.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?r.userProfile=Ee(e.userProfile):r.userProfile=void 0,r},Ue="".concat(ie.XA,"/identity");function Se(e,r,t){return Te.apply(this,arguments)}function Te(){return(Te=(0,H.Z)(Z().mark((function e(r,t,n){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.build().withHost(Ue).withMethod("POST").withPath("/v3/profile-image/".concat(encodeURIComponent((0,ae.C)(t)),"/").concat(n)).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,r){return Me.apply(this,arguments)}function Me(){return(Me=(0,H.Z)(Z().mark((function e(r,t){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.build().withHost(Ue).withMethod("DELETE").withPath("/v3/profile-image/".concat(encodeURIComponent((0,ae.C)(t)))).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,r,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,H.Z)(Z().mark((function e(r,t,n){var i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=De(Ae({mask:{paths:["name"]},userProfile:null!==n?{name:n}:{}})),e.next=3,r.build().withHost(Ue).withMethod("POST").withPath("/v3/user/username/".concat(encodeURIComponent((0,ae.C)(t)))).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,r,t){return He.apply(this,arguments)}function He(){return(He=(0,H.Z)(Z().mark((function e(r,t,n){var i,a;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name,a=n.imageUploadToken,void 0===i){e.next=4;break}return e.next=4,Le(r,t,i);case 4:if(void 0===a){e.next=12;break}if(null===a){e.next=10;break}return e.next=8,Se(r,t,a);case 8:e.next=12;break;case 10:return e.next=12,Re(r,t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=t(39359),Ze="https://image-upload.spotify.com/v4";function Qe(e,r){return Je.apply(this,arguments)}function Je(){return(Je=(0,H.Z)(Z().mark((function e(r,t){var n,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,i=t.imageUploadToken,e.next=3,We(Ke.b.getInstance(),r,{name:n,imageUploadToken:i});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,H.Z)(Z().mark((function e(r){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.b.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost(Ze).withMethod("POST").withPath("/user-profile").withBody(r).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();case 2:if((t=e.sent).body){e.next=5;break}throw new Error("No upload token recieved");case 5:return e.abrupt("return",t.body.uploadToken);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve={type:"error",get message(){return u.ag.get("user.edit-details.error.file-size-exceeded",10)}},ze={type:"error",get message(){return u.ag.get("user.edit-details.error.too-small",300,300)}},qe={type:"error",get message(){return u.ag.get("user.edit-details.error.missing-name")}},Xe={type:"error",get message(){return u.ag.get("user.edit-details.error.failed-to-save")}},Ye={type:"error",get message(){return u.ag.get("user.edit-details.error.file-upload-failed")}};function $e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function er(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?$e(Object(t),!0).forEach((function(r){(0,V.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$e(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function rr(e){return{type:"setLoading",loading:e}}function tr(e){return{type:"setMessage",message:e}}function nr(e){return{type:"setImageData",data:e}}function ir(e){return{type:"setImageToken",token:e}}function ar(e,r){switch(r.type){case"setName":return er(er({},e),{},{name:r.name});case"setMessage":return er(er({},e),{},{message:r.message,loading:!1});case"setLoading":return er(er({},e),{},{loading:r.loading,message:null});case"setImageData":return er(er({},e),{},{imageData:r.data,removeImage:!1});case"setImageToken":return er(er({},e),{},{imageToken:r.token,removeImage:!1});case"removeImage":return er(er({},e),{},{imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0});default:return e}}var or=t(43603),lr=t(31209),sr=t(10771);const ur="XwNfIrI6_hCa_9_T2cQB",cr="so0bdX3oZH6YW5_nGxIR",dr="aM3plU4zzDqjWlvUHGYb",mr="zHeo4VUxytwm6Ptr0QyA",gr="vAeyAmeLkDEDKdL9Hou0",fr="dnmzO6yYKkxUV8jl7O1Z",pr="oN9QVvJKEtdTH3HGfCu1",hr="uj7hczcCH1dZpse8Kfmi",vr="wvLAEV5wF5C5ej6rvimT",br="gAQfzAUp1FuSXODeZJfP",xr="dMhJaxli87_22jb_3d9x",yr="MDb7QhAtHeyM4gKj8j8t",jr="zGbjZMZ1DTx4futEbN9l";var kr=n.memo((function(e){var r=e.uri,t=e.name,i=e.image,a=e.onClose,o=e.shouldOpenImagePicker,l=(0,lr.Hs)(),c=(0,O.Z)(l,2),d=c[0],m=c[1],g=function(e){var r=e.name,t=e.image;return(0,n.useReducer)(ar,{loading:!1,message:null,name:r,image:t})}({name:t,image:i}),f=(0,O.Z)(g,2),p=f[0],h=f[1],v=(0,n.useMemo)((function(){var e=p.imageData||p.image;return e?[{url:e,width:300,height:300}]:[]}),[p.image,p.imageData]);function b(){return(b=(0,H.Z)(Z().mark((function e(r){var t,n,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(t=r.imageFile,n=r.imageDataUrl,h(tr(null)),h(nr(n)),!t){e.next=18;break}return e.prev=6,h(rr(!0)),e.next=10,Be(t);case 10:i=e.sent,h(ir(i)),h(rr(!1)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),h(tr(Ye));case 18:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}(0,n.useEffect)((function(){o&&m()}),[m,o]);var x=(0,n.useCallback)((function(e){e===lr.Hy.FILE_TOO_BIG?h(tr(Ve)):e===lr.Hy.IMAGE_TOO_SMALL&&h(tr(ze))}),[h]),y=(0,n.useCallback)((function(){h({type:"removeImage"})}),[h]),j=(0,n.useCallback)(function(){var e=(0,H.Z)(Z().mark((function e(t){var n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==p.name.trim().length){e.next=5;break}return h(tr(qe)),e.abrupt("return");case 5:return h(rr(!0)),e.prev=6,n=p.removeImage?null:p.imageToken,e.next=10,Qe(r,{name:p.name,imageUploadToken:n});case 10:a({name:p.name,image:p.imageData||p.image}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),h(tr(Xe));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(r){return e.apply(this,arguments)}}(),[h,a,p.image,p.imageData,p.imageToken,p.name,p.removeImage,r]);return(0,k.jsx)(or.Z,{isOpen:!0,contentLabel:u.ag.get("user.edit-details.title"),onRequestClose:function(){return a()},children:(0,k.jsxs)("div",{className:ur,children:[(0,k.jsxs)("div",{className:dr,children:[(0,k.jsx)(Q.D,{as:"h1",variant:"canon",children:u.ag.get("user.edit-details.title")}),(0,k.jsx)("button",{className:mr,onClick:function(){return a()},"aria-label":u.ag.get("close"),children:(0,k.jsx)(J.k,{iconSize:16})})]}),p.message&&(0,k.jsx)(sr.X,{isErrorMessage:"error"===p.message.type,message:p.message.message}),(0,k.jsxs)("form",{className:cr,onSubmit:j,children:[(0,k.jsx)(lr.uL,{isOpen:d,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:function(e){return b.apply(this,arguments)},onError:x}),(0,k.jsxs)("div",{className:gr,children:[(0,k.jsx)(ne,{name:t,images:v,onClickEdit:m,onClickRemove:y}),p.loading&&(0,k.jsx)("div",{className:fr,children:(0,k.jsx)(B.T,{})})]}),(0,k.jsxs)("div",{className:hr,children:[(0,k.jsx)("label",{htmlFor:"user-edit-name",className:vr,children:(0,k.jsx)(Q.D,{variant:"finaleBold",className:br,children:u.ag.get("user.edit-details.name-label")})}),(0,k.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:s()(pr,xr),onChange:function(e){h(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:u.ag.get("user.edit-details.name-placeholder"),maxLength:32,value:p.name})]}),(0,k.jsx)("div",{className:yr,children:(0,k.jsx)(G.D,{colorSet:"invertedLight",onClick:j,disabled:p.loading,children:u.ag.get("save")})}),(0,k.jsx)(Q.D,{as:"p",variant:"finaleBold",className:jr,children:u.ag.get("image-upload.legal-disclaimer")})]})]})})})),wr=(t(89004),t(67008)),Ir=t(36253),Or=t(13912),_r=t(76760),Pr=t(81186),Cr=t(70326),Nr=t(40192),Er=function(e){var r=e.className,t=e.isCurrentUser,i=e.userId,a=e.username,l=e.userDisplayName,s=(0,_r.w)(t,a),c=s.projects,d=s.fetchProjects,m=null==c?void 0:c.filter((function(e){return!(0,Or.o)(e)})),g=null==c?void 0:c.filter((function(e){return(0,Or.o)(e)&&!e.isPrivate})),f=null==c?void 0:c.filter((function(e){return(0,Or.o)(e)&&e.isPrivate}));return(0,n.useEffect)((function(){var e=setInterval((function(){var e=null==c?void 0:c.filter((function(e){return e.publishingState===Cr.H.IN_PROGRESS}));e&&e.length>0&&d()}),3e4);return function(){return clearInterval(e)}}),[d,c]),(0,Pr.I)(Nr.O.USER_PROJECTS_UPDATED,(0,H.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d());case 1:case"end":return e.stop()}}),e)})))),c?(0,k.jsxs)(k.Fragment,{children:[m.length>0&&(0,k.jsxs)("section",{className:r,children:[(0,k.jsx)(wr.r,{title:u.ag.get("web-player.soundtrap.unpublished-projects.title"),tagline:u.ag.get("web-player.soundtrap.unpublished-projects.tagline"),seeAllUri:(0,o.QK)(i,["soundtrap","unpublished"]).toURI(),hasMoreElements:m.length>4}),(0,k.jsx)(Ir.M,{data:m,userDisplayName:l,isCurrentUser:t,maxNumberOfTracks:4})]}),f.length>0&&(0,k.jsxs)("section",{className:r,children:[(0,k.jsx)(wr.r,{title:u.ag.get("web-player.soundtrap.private-songs.title"),tagline:u.ag.get("web-player.soundtrap.private-songs.tagline"),seeAllUri:(0,o.QK)(i,["soundtrap","private"]).toURI(),hasMoreElements:f.length>4}),(0,k.jsx)(Ir.M,{data:f,userDisplayName:l,isCurrentUser:t,maxNumberOfTracks:4})]}),g.length>0&&(0,k.jsxs)("section",{className:r,children:[(0,k.jsx)(wr.r,{title:u.ag.get("web-player.soundtrap.public-songs.title"),tagline:t?u.ag.get("web-player.soundtrap.public-songs.tagline"):null,seeAllUri:(0,o.QK)(i,["soundtrap","public"]).toURI(),hasMoreElements:g.length>4}),(0,k.jsx)(Ir.M,{data:g,userDisplayName:l,isCurrentUser:t,maxNumberOfTracks:4})]})]}):null},Dr=t(25690),Ar=t(46596),Ur=t(32318),Sr=t(15848),Tr=t(94483),Rr=t(29977),Mr=t(15310),Lr=t(25270),Fr=t(13215),Wr=t(35407),Hr=t(13034),Kr=t(20786),Zr=t(82523),Qr=(t(719),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.imageUriOrUrl,t=void 0===r?"":r,n=e.desiredMosaicSize,i=void 0===n?300:n;if(!t)return"";if(t.startsWith("spotify:")){var a=t.split(":"),o=(0,Zr.Z)(a),l=o[1],s=o.slice(2);if("image"===l)return"https://i.scdn.co/image/".concat(s[0]);if("mosaic"===l)return"https://mosaic.scdn.co/".concat(i,"/").concat(s.join(""))}return t}),Jr=t(51841),Br=t(24143),Gr=t(43980),Vr=t(23351),zr=t(68765),qr=t(16020),Xr=n.memo((function(e){var r=e.tracks,t=e.hasHeaderRow,i=void 0!==t&&t,a=e.nrTracksVisible,l=e.uri,s=(0,ae.C)(l),c=(0,o.qC)(s,"tracks").toURI(),d=(0,n.useMemo)((function(){return a?r.slice(0,a):r}),[a,r]),m=(0,zr.n)({uri:c,pages:[{items:r.map((function(e){return{type:qr.p.TRACK,uri:e.uri,uid:null,provider:null}}))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}).usePlayContextItem,g=(0,n.useCallback)((function(e,r){var t,n=(0,Kr.X)(null==e||null===(t=e.album)||void 0===t?void 0:t.images,{desiredSize:40});return(0,k.jsx)(Br.SS,{index:r,uri:(0,Gr.$)(e),duration_ms:e.duration_ms,name:e.name,artists:e.artists,album:e.album,isPlayable:!0,isExplicit:!!e.explicit,isMOGEFRestricted:!!e.mogef19,imgUrl:(null==n?void 0:n.url)||"",contextUri:c,usePlayContextItem:m},r+e.uri)}),[c,m]),f=(0,n.useMemo)((function(){return[Jr.QD.INDEX,Jr.QD.TITLE,Jr.QD.ALBUM,Jr.QD.DURATION]}),[]),p=(0,n.useCallback)((function(e){return e.uri}),[]);return(0,k.jsx)(Vr.ZP,{value:"user-top-tracks-tracklist",children:(0,k.jsx)(Jr.Pv,{ariaLabel:u.ag.get("top_tracks_this_month"),renderRow:g,nrTracks:d.length,tracks:d,resolveUri:p,hasHeaderRow:i,columns:f})})}),(function(e,r){return e.tracks===r.tracks})),Yr=n.memo((function(e){var r=e.tracks,t=e.title,i=e.tagline,a=e.seeAllUri,o=e.className,l=e.uri,s=e.spec,u=(0,Hr.$P)(),c=(0,n.useCallback)((function(){var e=s.titleLinkFactory().hitUiNavigate({destination:a});u.logInteraction(e)}),[u,a,s]),d=(0,n.useCallback)((function(){var e=s.titleLinkFactory().hitUiNavigate({destination:a});u.logInteraction(e)}),[u,a,s]);if(!r||0===r.length)return null;var m=r.length>4;return(0,k.jsxs)("section",{className:o,children:[(0,k.jsx)(wr.r,{title:t,tagline:i,seeAllUri:a,hasMoreElements:m,onClickTitle:c,onClickSeeAll:d}),(0,k.jsx)(Hr.Nh,{spec:s,children:(0,k.jsx)(Xr,{tracks:r,uri:l,nrTracksVisible:4})})]})}),(function(e,r){return e.tracks===r.tracks}));function $r(e,r){switch(r.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"OPEN_SOUNDTRAP_MODAL":return{isModalOpen:!0,modalVariant:"soundtrap",shouldOpenImagePicker:!1};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var et=t(75198),rt=t(47807),tt=t(85388),nt=function(e){var r,t,a=e.uri,l=(0,_.v9)(Mr.Gf),m=(0,_.v9)(Mr.A$),v=(0,_.I0)(),x=(0,P.W6)(tt.AJ,{loadingValue:!1}),y=(0,Tr.H)(a),j=(0,O.Z)(y,2),w=j[0],I=j[1],H=(0,n.useMemo)((function(){return(0,Kr.X)(m)}),[m]),K=(r=(0,n.useReducer)($r,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1}),[(t=(0,O.Z)(r,2))[0],t[1]]),Z=(0,O.Z)(K,2),Q=Z[0],J=Q.isModalOpen,B=Q.modalVariant,G=Q.shouldOpenImagePicker,V=Z[1],z=(0,Ar.o)(),q=!(0,Ur.k)(),X=(0,g.J)(f.n5.getProfile,[{uri:a,playlists:10,artists:10,episodes:10}]),Y=X.data,$=X.loading,ee=null==Y?void 0:Y.public_playlists,re=null==Y?void 0:Y.is_verified,te=(null==Y?void 0:Y.is_current_user)||!1,ne=null==Y?void 0:Y.recently_played_artists,ie=te?(null==H?void 0:H.url)||"":(null==Y?void 0:Y.image_url)||"",oe=(0,ae.C)(a),le=(0,_.v9)(Rr.C7),se=(te?l:null==Y?void 0:Y.name)||"",ue=(0,Sr.Z)((null==Y?void 0:Y.image_url)||null),ce=(0,i.UO)().userId,de=void 0===ce?"":ce,me=(0,Hr.fU)(C.createDesktopProfileEventFactory,{data:{uri:a,identifier:de}}),ge=me.spec,fe=me.logger,pe=(0,n.useMemo)((function(){return ge.sectionTopTracksFactory()}),[ge]),he=(0,g.J)(f.n5.getFollowing,[a]),ve=he.data,be=he.loading,xe=null==ve?void 0:ve.profiles,ye=(0,g.J)(f.n5.getFollowers,[a]),je=ye.data,ke=ye.loading,we=null==je?void 0:je.profiles,Ie=(0,n.useMemo)((function(){return function(e){return e?f.n5.getUserTopArtists:function(){return Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}})}}(te)}),[te]),Oe=(0,n.useMemo)((function(){return function(e){return e?f.n5.getUserTopTracks:function(){return Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}})}}(te&&!le)}),[te,le]),_e=(0,g.J)(Ie,[]),Pe=_e.data,Ce=_e.loading,Ne=(0,g.J)(Oe,[]),Ee=Ne.data,De=Ne.loading,Ae=null==Pe?void 0:Pe.body,Ue=null==Ee?void 0:Ee.body,Se=(0,P.W6)(tt.sT,{loadingValue:!1}),Te=(0,_r.w)(te,de).projects,Re=(0,n.useState)(null),Me=(0,O.Z)(Re,2),Le=Me[0],Fe=Me[1],We=(0,i.TH)(),He=We.state,Ke=We.pathname,Ze=(0,i.s0)();(0,n.useEffect)((function(){if(Se&&Te&&"soundtrap_publish"===He.referrer&&He.newProjectId){var e=null==Te?void 0:Te.find((function(e){return e.soundtrapProjectId===He.newProjectId}));e&&(Fe(e),V({type:"OPEN_SOUNDTRAP_MODAL"}))}}),[He,Se,V,Te]);var Qe=(0,n.useCallback)((function(){z({targetUri:a,intent:w?"unfollow":"follow",type:"click"});var e=ge.actionBarFactory().followButtonFactory();w?(I(!1),fe.logInteraction(e.hitUnfollow({itemToBeUnfollowed:a}))):(I(!0),fe.logInteraction(e.hitFollow({itemToBeFollowed:a})))}),[w,fe,z,I,ge,a]),Je=(0,n.useCallback)((function(e){V({type:"CLOSE_MODAL"}),e?(v((0,Lr.dL)(e.name)),v((0,Lr.GR)(e.image?[{url:e.image,height:null,width:null}]:[]))):"soundtrap_publish"===He.referrer&&He.newProjectId&&Ze(Ke,{replace:!0})}),[V,He,v,Ze,Ke]),Be=(0,n.useCallback)((function(){V({type:"OPEN_MODAL"});var e=ge.headerFactory().usernameFactory().hitUiReveal();fe.logInteraction(e)}),[fe,V,ge]),Ge=(0,n.useCallback)((function(){V({type:"OPEN_MODAL_WITH_IMAGEPICKER"});var e=ge.headerFactory().profileImageFactory().hitUiReveal();fe.logInteraction(e)}),[fe,V,ge]),Ve=(0,n.useMemo)((function(){return[{url:ie}]}),[ie]),ze=(0,n.useCallback)((function(){var e=ge.headerFactory().usernameFactory().hitUiReveal();fe.logInteraction(e)}),[fe,ge]),qe=(0,n.useCallback)((function(e,r){if(r){var t=ge.headerFactory().followersLinkFactory().hitUiNavigate({destination:r});fe.logInteraction(t)}}),[fe,ge]),Xe=(0,n.useCallback)((function(e,r){if(r){var t=ge.headerFactory().followersLinkFactory().hitUiNavigate({destination:r});fe.logInteraction(t)}}),[fe,ge]),Ye=(0,n.useCallback)((function(){var e=ge.actionBarFactory().contextMenuButtonFactory().hitUiReveal();fe.logInteraction(e)}),[fe,ge]);if(!Y||$||be||ke||De||Ce)return(0,k.jsx)(d.h,{hasError:!1,errorMessage:u.ag.get("error.not_found.title.page")});var $e=s()("contentSpacing",h),er=!(null==we||!we.length),rr=!(null==xe||!xe.length);return x&&(er&&(er=te||Y.show_follows),rr&&(rr=te||Y.show_follows)),(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)(S.$,{children:se}),(0,k.jsxs)(R.gF,{backgroundColor:ue,children:[(0,k.jsx)(L.W,{children:(0,k.jsx)(F.i,{text:se})}),(0,k.jsx)(Wr._,{menu:(0,k.jsx)(U.I,{uri:Y.uri}),children:(0,k.jsx)("div",{className:b,children:(0,k.jsx)(T.T,{canEdit:te,name:se,images:Ve,onClick:Ge,placeholderType:"user",shape:R.Kc.CIRCLE})})}),(0,k.jsxs)(R.sP,{children:[(0,k.jsx)(R.dy,{small:!0,uppercase:!0,children:re?(0,k.jsx)(et.S,{text:u.ag.get("card.tag.profile")}):u.ag.get("card.tag.profile")}),(0,k.jsx)(Wr._,{menu:(0,k.jsx)(U.I,{uri:Y.uri}),children:(0,k.jsx)(R.xd,{canEdit:te,editTitle:u.ag.get("playlist.edit-details.title"),onClick:Be,children:se})}),(0,k.jsx)(R.QS,{totalFollowers:Y.followers_count,totalFollowing:Y.following_count,publicPlaylists:Y.total_public_playlists_count,userUri:a,onCreatorClick:ze,onTotalFollowersClick:qe,onTotalFollowingClick:Xe})]})]}),(0,k.jsx)(N.o,{backgroundColor:ue,children:(0,k.jsxs)(N.F,{children:[!te&&(0,k.jsx)(M.r,{children:(0,k.jsx)(W.e,{isFollowing:Boolean(w),onClick:Qe,disabled:q})}),(0,k.jsx)(Fr.y,{menu:(0,k.jsx)(U.I,{uri:Y.uri,onEditProfileCallback:Be}),children:(0,k.jsx)(E.z,{label:u.ag.get("more.label.context",se),onClick:Ye})})]})}),(0,k.jsxs)(Hr.Nh,{spec:ge,children:[Se&&(0,k.jsx)(Er,{className:$e,userId:de,username:oe,userDisplayName:se,isCurrentUser:te}),(0,k.jsx)(rt.q,{className:$e,total:(null==Ae?void 0:Ae.total)||0,title:u.ag.get("top_artists_this_month"),tagline:u.ag.get("only_visible_to_you"),seeAllUri:(0,o.QK)(oe,["top","artists"]).toURI(),id:"top-artists",index:0,children:null==Ae?void 0:Ae.items.map((function(e,r){return(0,k.jsx)(D.I,{index:r,uri:e.uri,name:e.name,images:e.images},e.uri)}))}),(0,k.jsx)(Yr,{className:$e,title:u.ag.get("top_tracks_this_month"),tagline:u.ag.get("only_visible_to_you"),seeAllUri:(0,o.QK)(oe,["top","tracks"]).toURI(),uri:a,tracks:null==Ue?void 0:Ue.items,spec:pe}),(0,k.jsx)(rt.q,{className:$e,total:Y.total_public_playlists_count,title:u.ag.get("public_playlists"),seeAllUri:(0,o.QK)(oe,["playlists"]).toURI(),id:"playlists",index:1,children:null==ee?void 0:ee.map((function(e,r){return(0,k.jsx)(A.Z,{index:r,uri:e.uri,name:e.name,images:[{url:Qr({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?u.ag.get("user.followers",e.followers_count):""},e.uri)}))}),null!=ne&&ne.length?(0,k.jsx)(rt.q,{className:$e,total:null==ne?void 0:ne.length,title:u.ag.get("recently_played_artists"),seeAllUri:(0,o.QK)(oe,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:2,children:null==ne?void 0:ne.map((function(e,r){return(0,k.jsx)(D.I,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,er?(0,k.jsx)(rt.q,{className:$e,title:u.ag.get("followers"),total:null==we?void 0:we.length,seeAllUri:(0,o.QK)(oe,["followers"]).toURI(),id:"followers",index:3,children:null==we?void 0:we.map((function(e,r){return(0,k.jsx)(c.P,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,rr?(0,k.jsx)(rt.q,{className:$e,title:u.ag.get("following"),total:null==xe?void 0:xe.length,seeAllUri:(0,o.QK)(oe,["following"]).toURI(),id:"following",index:4,children:null==xe?void 0:xe.map((function(e,r){return(0,k.jsx)(c.P,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,te&&J&&("editProfile"===B?(0,k.jsx)(kr,{uri:a,name:se,image:ie,onClose:Je,shouldOpenImagePicker:G}):"soundtrap"===B&&Se&&Le?(0,k.jsx)(Dr.x,{project:Le,userDisplayName:se,onClose:Je}):null)]})]})},it=function(e){var r=e.uri,t=(0,g.J)(f.n5.getPlaylists,[{uri:r}]),n=t.data,i=t.loading,a=t.error,o=n||{},l=o.public_playlists,c=o.total_public_playlists_count,p=void 0===c?0:c;return i?(0,k.jsx)(d.h,{hasError:null!==a,errorMessage:u.ag.get("error.not_found.title.page")}):(0,k.jsx)(m.P,{className:s()("contentSpacing",v),total:p,title:u.ag.get("public_playlists"),showAll:!0,children:null==l?void 0:l.map((function(e,r){return(0,k.jsx)(A.Z,{index:r,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?u.ag.get("user.followers",e.followers_count):"",images:[{url:Qr({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)}))})},at=function(e){var r=e.uri,t=(0,g.J)(f.n5.getRecentlyPlayedArtists,[{uri:r,limit:50}]),n=t.data,i=t.loading,a=t.error,o=null==n?void 0:n.artists;return i?(0,k.jsx)(d.h,{hasError:null!==a,errorMessage:u.ag.get("error.not_found.title.page")}):(0,k.jsx)(m.P,{className:s()("contentSpacing",v),total:null==o?void 0:o.length,title:u.ag.get("recently_played_artists"),showAll:!0,children:null==o?void 0:o.map((function(e,r){return(0,k.jsx)(D.I,{index:r,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)}))})},ot=function(){var e=(0,g.J)(f.n5.getUserTopArtists),r=e.data,t=e.loading,n=e.error,i=null==r?void 0:r.body;return t?(0,k.jsx)(d.h,{hasError:null!==n,errorMessage:u.ag.get("error.not_found.title.page")}):i?(0,k.jsx)(m.P,{className:s()("contentSpacing",v),total:i.items.length,title:u.ag.get("top_artists_this_month"),tagline:u.ag.get("only_visible_to_you"),showAll:!0,children:i.items.map((function(e,r){return(0,k.jsx)(D.I,{index:r,uri:e.uri,name:e.name,images:e.images},e.uri)}))}):null},lt=function(e){var r=e.uri,t=(0,g.J)(f.n5.getProfile,[{uri:r}]),n=t.data,i=t.loading,a=t.error,o=(null==n?void 0:n.is_current_user)||!1;return n&&!i&&o?(0,k.jsx)(ot,{}):(0,k.jsx)(d.h,{hasError:null!==a,errorMessage:u.ag.get("error.not_found.title.page")})},st=function(e){var r=e.uri,t=(0,g.J)(f.n5.getUserTopTracks,[{offset:0,limit:50}]),n=t.data,i=t.loading,a=t.error,o=null==n?void 0:n.body;return i?(0,k.jsx)(d.h,{hasError:null!==a,errorMessage:u.ag.get("error.not_found.title.page")}):o?(0,k.jsxs)("div",{className:s()("contentSpacing",v,x),children:[(0,k.jsxs)("div",{className:y,children:[(0,k.jsx)(Q.D,{as:"h1",variant:"canon",className:j,children:u.ag.get("top_tracks_this_month")}),(0,k.jsx)(Q.D,{as:"p",variant:"mesto",children:u.ag.get("only_visible_to_you")})]}),(0,k.jsx)(Xr,{tracks:o.items,uri:r,hasHeaderRow:!0})]}):null},ut=function(e){var r=e.uri,t=(0,g.J)(f.n5.getProfile,[{uri:r}]),n=t.data,i=t.loading,a=t.error,o=(null==n?void 0:n.is_current_user)||!1;return n&&!i&&o?(0,k.jsx)(st,{uri:r}):(0,k.jsx)(d.h,{hasError:null!==a,errorMessage:u.ag.get("error.not_found.title.page")})},ct=t(98633);const dt=(0,n.memo)((function(){var e=(0,i.UO)().userId,r=decodeURIComponent(void 0===e?"":e),t=(0,o.QK)(r).toURI();return(0,k.jsx)("section",{children:(0,k.jsxs)(i.Z5,{children:[(0,k.jsx)(i.AW,{path:"playlists",element:(0,k.jsx)(ct.K,{pageId:a.Wg.PROFILE_PLAYLISTS,children:(0,k.jsx)(it,{uri:t})})}),(0,k.jsx)(i.AW,{path:"top/tracks",element:(0,k.jsx)(ct.K,{pageId:a.Wg.PROFILE_TOP_TRACKS,children:(0,k.jsx)(ut,{uri:t})})}),(0,k.jsx)(i.AW,{path:"top/artists",element:(0,k.jsx)(ct.K,{pageId:a.Wg.PROFILE_TOP_ARTISTS,children:(0,k.jsx)(lt,{uri:t})})}),(0,k.jsx)(i.AW,{path:"recently-played-artists",element:(0,k.jsx)(ct.K,{pageId:a.Wg.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,k.jsx)(at,{uri:t})})}),(0,k.jsx)(i.AW,{path:"following",element:(0,k.jsx)(ct.K,{pageId:a.Wg.PROFILE_FOLLOWING,children:(0,k.jsx)(I,{uri:t})})}),(0,k.jsx)(i.AW,{path:"followers",element:(0,k.jsx)(ct.K,{pageId:a.Wg.PROFILE_FOLLOWERS,children:(0,k.jsx)(w,{uri:t})})}),(0,k.jsx)(i.AW,{path:"/",element:(0,k.jsx)(ct.K,{pageId:a.Wg.PROFILE,children:(0,k.jsx)(nt,{uri:t})})})]})})}))},43980:(e,r,t)=>{t.d(r,{$:()=>n});var n=function(e){var r;return(null==e||null===(r=e.linked_from)||void 0===r?void 0:r.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-profile.js.map